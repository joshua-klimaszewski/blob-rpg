import type { ClassDefinition, SkillDefinition } from '../../types/character';

export const IRONBLOB_CLASS: ClassDefinition = {
  id: 'ironblob',
  name: 'Ironblob',
  role: 'tank',
  description: 'A stalwart protector that pushes enemies back and creates space for the party.',
  baseStats: { str: 12, vit: 10, int: 4, wis: 6, agi: 5, luc: 5 },
  baseHp: 50,
  baseTp: 20,
  hpGrowth: 6,
  tpGrowth: 2,
  growth: { str: 2.0, vit: 1.8, int: 0.3, wis: 0.5, agi: 0.8, luc: 0.5 },
  skillIds: [
    'ironblob-shield-bash',
    'ironblob-fortress',
    'ironblob-taunt-strike',
    'ironblob-iron-wall',
    'ironblob-crushing-blow',
    'ironblob-guardian-push',
  ],
};

export const IRONBLOB_SKILLS: SkillDefinition[] = [
  {
    id: 'ironblob-shield-bash',
    name: 'Shield Bash',
    description: '0.8x STR damage and push target back 1 tile.',
    classId: 'ironblob',
    tpCost: 4,
    targetType: 'single-tile',
    bodyPartRequired: 'arm',
    levelRequired: 1,
    skillPointCost: 1,
    effects: [
      { type: 'damage', stat: 'str', multiplier: 0.8 },
      { type: 'displacement', direction: 'push', distance: 1 },
    ],
    isPassive: false,
    category: 'core',
  },
  {
    id: 'ironblob-fortress',
    name: 'Fortress',
    description: 'Self-buff: +5 VIT for 3 turns.',
    classId: 'ironblob',
    tpCost: 5,
    targetType: 'self',
    bodyPartRequired: null,
    levelRequired: 1,
    skillPointCost: 1,
    effects: [
      { type: 'self-buff', buffStat: 'vit', amount: 5, duration: 3 },
    ],
    isPassive: false,
    category: 'active',
  },
  {
    id: 'ironblob-taunt-strike',
    name: 'Taunt Strike',
    description: '1.0x STR damage. A reliable attack.',
    classId: 'ironblob',
    tpCost: 3,
    targetType: 'single-tile',
    bodyPartRequired: 'arm',
    levelRequired: 2,
    skillPointCost: 1,
    effects: [
      { type: 'damage', stat: 'str', multiplier: 1.0 },
    ],
    isPassive: false,
    category: 'active',
  },
  {
    id: 'ironblob-iron-wall',
    name: 'Iron Wall',
    description: 'Passive: +2 VIT.',
    classId: 'ironblob',
    tpCost: 0,
    targetType: 'self',
    bodyPartRequired: null,
    levelRequired: 3,
    skillPointCost: 1,
    effects: [],
    isPassive: true,
    passiveModifier: { type: 'flat-stat', stat: 'vit', amount: 2 },
    category: 'passive',
  },
  {
    id: 'ironblob-crushing-blow',
    name: 'Crushing Blow',
    description: 'If target has leg bind, deal 2.0x STR damage.',
    classId: 'ironblob',
    tpCost: 8,
    targetType: 'single-tile',
    bodyPartRequired: 'arm',
    levelRequired: 4,
    skillPointCost: 1,
    effects: [
      { type: 'conditional-damage', stat: 'str', multiplier: 2.0, condition: { type: 'has-leg-bind' } },
    ],
    isPassive: false,
    category: 'synergy',
  },
  {
    id: 'ironblob-guardian-push',
    name: 'Guardian Push',
    description: 'Push all entities on target tile back 1.',
    classId: 'ironblob',
    tpCost: 6,
    targetType: 'single-tile',
    bodyPartRequired: 'arm',
    levelRequired: 5,
    skillPointCost: 1,
    effects: [
      { type: 'displacement', direction: 'push', distance: 1 },
    ],
    isPassive: false,
    category: 'ultimate',
  },
];
