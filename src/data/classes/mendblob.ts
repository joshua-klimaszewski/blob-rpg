import type { ClassDefinition, SkillDefinition } from '../../types/character';

export const MENDBLOB_CLASS: ClassDefinition = {
  id: 'mendblob',
  name: 'Mendblob',
  role: 'healer',
  description: 'A dedicated healer that restores HP, cures binds, and removes ailments.',
  baseStats: { str: 5, vit: 8, int: 10, wis: 12, agi: 7, luc: 7 },
  baseHp: 42,
  baseTp: 25,
  hpGrowth: 4,
  tpGrowth: 3,
  growth: { str: 0.3, vit: 1.0, int: 1.5, wis: 2.0, agi: 0.8, luc: 0.8 },
  skillIds: [
    'mendblob-heal',
    'mendblob-cure-binds',
    'mendblob-group-heal',
    'mendblob-healing-touch',
    'mendblob-revitalize',
    'mendblob-purify',
  ],
};

export const MENDBLOB_SKILLS: SkillDefinition[] = [
  {
    id: 'mendblob-heal',
    name: 'Heal',
    description: '1.5x WIS healing to a single ally.',
    classId: 'mendblob',
    tpCost: 4,
    targetType: 'single-ally',
    bodyPartRequired: 'head',
    levelRequired: 1,
    skillPointCost: 1,
    effects: [
      { type: 'heal', multiplier: 1.5 },
    ],
    isPassive: false,
    category: 'core',
  },
  {
    id: 'mendblob-cure-binds',
    name: 'Cure Binds',
    description: 'Remove all binds from a single ally.',
    classId: 'mendblob',
    tpCost: 5,
    targetType: 'single-ally',
    bodyPartRequired: 'head',
    levelRequired: 1,
    skillPointCost: 1,
    effects: [
      { type: 'bind', bindType: 'head', chance: 100, duration: 0 },
      { type: 'bind', bindType: 'arm', chance: 100, duration: 0 },
      { type: 'bind', bindType: 'leg', chance: 100, duration: 0 },
    ],
    isPassive: false,
    category: 'active',
  },
  {
    id: 'mendblob-group-heal',
    name: 'Group Heal',
    description: '0.8x WIS healing to all allies.',
    classId: 'mendblob',
    tpCost: 8,
    targetType: 'all-allies',
    bodyPartRequired: 'head',
    levelRequired: 2,
    skillPointCost: 1,
    effects: [
      { type: 'heal', multiplier: 0.8 },
    ],
    isPassive: false,
    category: 'active',
  },
  {
    id: 'mendblob-healing-touch',
    name: 'Healing Touch',
    description: 'Passive: +3 WIS.',
    classId: 'mendblob',
    tpCost: 0,
    targetType: 'self',
    bodyPartRequired: null,
    levelRequired: 3,
    skillPointCost: 1,
    effects: [],
    isPassive: true,
    passiveModifier: { type: 'flat-stat', stat: 'wis', amount: 3 },
    category: 'passive',
  },
  {
    id: 'mendblob-revitalize',
    name: 'Revitalize',
    description: 'If ally is below 25% HP, heal for 3.0x WIS.',
    classId: 'mendblob',
    tpCost: 10,
    targetType: 'single-ally',
    bodyPartRequired: 'head',
    levelRequired: 4,
    skillPointCost: 1,
    effects: [
      { type: 'conditional-damage', stat: 'int', multiplier: 3.0, condition: { type: 'below-hp-percent', threshold: 25 } },
    ],
    isPassive: false,
    category: 'synergy',
  },
  {
    id: 'mendblob-purify',
    name: 'Purify',
    description: 'Remove all ailments from a single ally.',
    classId: 'mendblob',
    tpCost: 5,
    targetType: 'single-ally',
    bodyPartRequired: 'head',
    levelRequired: 5,
    skillPointCost: 1,
    effects: [
      { type: 'ailment', ailmentType: 'poison', chance: 100, duration: 0 },
    ],
    isPassive: false,
    category: 'ultimate',
  },
];
