import type { ClassDefinition, SkillDefinition } from '../../types/character';

export const HEXBLOB_CLASS: ClassDefinition = {
  id: 'hexblob',
  name: 'Hexblob',
  role: 'binder',
  description: 'A specialist in disabling enemies through binds, with devastating payoff skills.',
  baseStats: { str: 5, vit: 7, int: 12, wis: 10, agi: 7, luc: 6 },
  baseHp: 42,
  baseTp: 25,
  hpGrowth: 4,
  tpGrowth: 3,
  growth: { str: 0.3, vit: 0.8, int: 2.0, wis: 1.5, agi: 0.8, luc: 0.8 },
  skillIds: [
    'hexblob-head-bind',
    'hexblob-arm-bind',
    'hexblob-leg-bind',
    'hexblob-bind-mastery',
    'hexblob-ecstasy',
    'hexblob-nerve-shock',
  ],
};

export const HEXBLOB_SKILLS: SkillDefinition[] = [
  {
    id: 'hexblob-head-bind',
    name: 'Head Bind',
    description: '80% chance to bind head for 3 turns.',
    classId: 'hexblob',
    tpCost: 5,
    targetType: 'single-tile',
    bodyPartRequired: 'head',
    levelRequired: 1,
    skillPointCost: 1,
    effects: [
      { type: 'bind', bindType: 'head', chance: 80, duration: 3 },
    ],
    isPassive: false,
  },
  {
    id: 'hexblob-arm-bind',
    name: 'Arm Bind',
    description: '80% chance to bind arm for 3 turns.',
    classId: 'hexblob',
    tpCost: 5,
    targetType: 'single-tile',
    bodyPartRequired: 'head',
    levelRequired: 1,
    skillPointCost: 1,
    effects: [
      { type: 'bind', bindType: 'arm', chance: 80, duration: 3 },
    ],
    isPassive: false,
  },
  {
    id: 'hexblob-leg-bind',
    name: 'Leg Bind',
    description: '80% chance to bind leg for 3 turns.',
    classId: 'hexblob',
    tpCost: 5,
    targetType: 'single-tile',
    bodyPartRequired: 'head',
    levelRequired: 2,
    skillPointCost: 1,
    effects: [
      { type: 'bind', bindType: 'leg', chance: 80, duration: 3 },
    ],
    isPassive: false,
  },
  {
    id: 'hexblob-bind-mastery',
    name: 'Bind Mastery',
    description: 'Passive: all binds +1 turn duration.',
    classId: 'hexblob',
    tpCost: 0,
    targetType: 'self',
    bodyPartRequired: null,
    levelRequired: 3,
    skillPointCost: 1,
    effects: [
      { type: 'self-buff', buffStat: 'int', amount: 0, duration: 0 },
    ],
    isPassive: true,
  },
  {
    id: 'hexblob-ecstasy',
    name: 'Ecstasy',
    description: 'If target has all 3 binds active, deal 3.0x INT damage.',
    classId: 'hexblob',
    tpCost: 10,
    targetType: 'single-tile',
    bodyPartRequired: 'head',
    levelRequired: 4,
    skillPointCost: 1,
    effects: [
      { type: 'conditional-damage', stat: 'int', multiplier: 3.0, condition: { type: 'has-all-binds' } },
    ],
    isPassive: false,
  },
  {
    id: 'hexblob-nerve-shock',
    name: 'Nerve Shock',
    description: '0.6x INT damage with 40% chance to paralyze for 2 turns.',
    classId: 'hexblob',
    tpCost: 6,
    targetType: 'single-tile',
    bodyPartRequired: 'head',
    levelRequired: 5,
    skillPointCost: 1,
    effects: [
      { type: 'damage', stat: 'int', multiplier: 0.6 },
      { type: 'ailment', ailmentType: 'paralyze', chance: 40, duration: 2 },
    ],
    isPassive: false,
  },
];
