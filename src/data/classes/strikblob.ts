import type { ClassDefinition, SkillDefinition } from '../../types/character';

export const STRIKBLOB_CLASS: ClassDefinition = {
  id: 'strikblob',
  name: 'Strikblob',
  role: 'dps',
  description: 'A swift melee fighter that pulls enemies close and strikes multiple times.',
  baseStats: { str: 14, vit: 8, int: 4, wis: 4, agi: 10, luc: 8 },
  baseHp: 45,
  baseTp: 15,
  hpGrowth: 4,
  tpGrowth: 2,
  growth: { str: 2.5, vit: 1.0, int: 0.3, wis: 0.3, agi: 1.5, luc: 1.0 },
  skillIds: [
    'strikblob-rapid-strike',
    'strikblob-pull-slash',
    'strikblob-viper-fang',
    'strikblob-combat-instinct',
    'strikblob-exploit-weakness',
    'strikblob-blade-dance',
  ],
};

export const STRIKBLOB_SKILLS: SkillDefinition[] = [
  {
    id: 'strikblob-rapid-strike',
    name: 'Rapid Strike',
    description: '3 hits at 0.4x STR each. Great for combos.',
    classId: 'strikblob',
    tpCost: 5,
    targetType: 'single-tile',
    bodyPartRequired: 'arm',
    levelRequired: 1,
    skillPointCost: 1,
    effects: [
      { type: 'multi-hit', stat: 'str', hits: 3, multiplierPerHit: 0.4 },
    ],
    isPassive: false,
    category: 'core',
  },
  {
    id: 'strikblob-pull-slash',
    name: 'Pull Slash',
    description: '1.2x STR damage and pull target forward 1 tile.',
    classId: 'strikblob',
    tpCost: 5,
    targetType: 'single-tile',
    bodyPartRequired: 'arm',
    levelRequired: 1,
    skillPointCost: 1,
    effects: [
      { type: 'damage', stat: 'str', multiplier: 1.2 },
      { type: 'displacement', direction: 'pull', distance: 1 },
    ],
    isPassive: false,
    category: 'active',
  },
  {
    id: 'strikblob-viper-fang',
    name: 'Viper Fang',
    description: '0.8x STR damage with 60% chance to poison (3 dmg/turn, 3 turns).',
    classId: 'strikblob',
    tpCost: 6,
    targetType: 'single-tile',
    bodyPartRequired: 'arm',
    levelRequired: 2,
    skillPointCost: 1,
    effects: [
      { type: 'damage', stat: 'str', multiplier: 0.8 },
      { type: 'ailment', ailmentType: 'poison', chance: 60, damagePerTurn: 3, duration: 3 },
    ],
    isPassive: false,
    category: 'active',
  },
  {
    id: 'strikblob-combat-instinct',
    name: 'Combat Instinct',
    description: 'Passive: +3 AGI.',
    classId: 'strikblob',
    tpCost: 0,
    targetType: 'self',
    bodyPartRequired: null,
    levelRequired: 3,
    skillPointCost: 1,
    effects: [],
    isPassive: true,
    passiveModifier: { type: 'flat-stat', stat: 'agi', amount: 3 },
    category: 'passive',
  },
  {
    id: 'strikblob-exploit-weakness',
    name: 'Exploit Weakness',
    description: 'If target has any bind, deal 1.5x STR per active bind.',
    classId: 'strikblob',
    tpCost: 8,
    targetType: 'single-tile',
    bodyPartRequired: 'arm',
    levelRequired: 4,
    skillPointCost: 1,
    effects: [
      { type: 'conditional-damage', stat: 'str', multiplier: 1.5, condition: { type: 'has-any-bind' }, perBindMultiplier: true },
    ],
    isPassive: false,
    category: 'synergy',
  },
  {
    id: 'strikblob-blade-dance',
    name: 'Blade Dance',
    description: '1.0x STR damage to all entities on target tile.',
    classId: 'strikblob',
    tpCost: 7,
    targetType: 'single-tile',
    bodyPartRequired: 'arm',
    levelRequired: 5,
    skillPointCost: 1,
    effects: [
      { type: 'damage', stat: 'str', multiplier: 1.0 },
    ],
    isPassive: false,
    category: 'ultimate',
  },
];
