import type { ClassDefinition, SkillDefinition } from '../../types/character';

export const TOXBLOB_CLASS: ClassDefinition = {
  id: 'toxblob',
  name: 'Toxblob',
  role: 'debuffer',
  description: 'A field control specialist that poisons, paralyzes, and lays traps.',
  baseStats: { str: 6, vit: 7, int: 12, wis: 8, agi: 9, luc: 8 },
  baseHp: 42,
  baseTp: 25,
  hpGrowth: 4,
  tpGrowth: 3,
  growth: { str: 0.3, vit: 0.8, int: 2.0, wis: 1.0, agi: 1.2, luc: 1.0 },
  skillIds: [
    'toxblob-venom-spit',
    'toxblob-spore-cloud',
    'toxblob-spike-trap',
    'toxblob-toxic-aura',
    'toxblob-pandemic',
    'toxblob-web-trap',
  ],
};

export const TOXBLOB_SKILLS: SkillDefinition[] = [
  {
    id: 'toxblob-venom-spit',
    name: 'Venom Spit',
    description: '0.6x INT damage with 70% chance to poison (5 dmg/turn, 3 turns).',
    classId: 'toxblob',
    tpCost: 4,
    targetType: 'single-tile',
    bodyPartRequired: 'head',
    levelRequired: 1,
    skillPointCost: 1,
    effects: [
      { type: 'damage', stat: 'int', multiplier: 0.6 },
      { type: 'ailment', ailmentType: 'poison', chance: 70, damagePerTurn: 5, duration: 3 },
    ],
    isPassive: false,
    category: 'core',
  },
  {
    id: 'toxblob-spore-cloud',
    name: 'Spore Cloud',
    description: '50% chance to sleep all entities on target tile for 2 turns.',
    classId: 'toxblob',
    tpCost: 6,
    targetType: 'single-tile',
    bodyPartRequired: 'head',
    levelRequired: 1,
    skillPointCost: 1,
    effects: [
      { type: 'ailment', ailmentType: 'sleep', chance: 50, duration: 2 },
    ],
    isPassive: false,
    category: 'active',
  },
  {
    id: 'toxblob-spike-trap',
    name: 'Spike Trap',
    description: 'Place a spike hazard on the target tile.',
    classId: 'toxblob',
    tpCost: 4,
    targetType: 'single-tile',
    bodyPartRequired: null,
    levelRequired: 2,
    skillPointCost: 1,
    effects: [
      { type: 'hazard', hazardType: 'spike' },
    ],
    isPassive: false,
    category: 'active',
  },
  {
    id: 'toxblob-toxic-aura',
    name: 'Toxic Aura',
    description: 'Passive: poison deals +2 dmg/turn.',
    classId: 'toxblob',
    tpCost: 0,
    targetType: 'self',
    bodyPartRequired: null,
    levelRequired: 3,
    skillPointCost: 1,
    effects: [],
    isPassive: true,
    passiveModifier: { type: 'poison-damage-bonus', amount: 2 },
    category: 'passive',
  },
  {
    id: 'toxblob-pandemic',
    name: 'Pandemic',
    description: 'If target has an ailment, deal 1.5x INT and spread to adjacent tiles.',
    classId: 'toxblob',
    tpCost: 10,
    targetType: 'adjacent-tiles',
    bodyPartRequired: 'head',
    levelRequired: 4,
    skillPointCost: 1,
    effects: [
      { type: 'conditional-damage', stat: 'int', multiplier: 1.5, condition: { type: 'has-ailment' } },
    ],
    isPassive: false,
    category: 'synergy',
  },
  {
    id: 'toxblob-web-trap',
    name: 'Web Trap',
    description: 'Place a web hazard on the target tile.',
    classId: 'toxblob',
    tpCost: 4,
    targetType: 'single-tile',
    bodyPartRequired: null,
    levelRequired: 5,
    skillPointCost: 1,
    effects: [
      { type: 'hazard', hazardType: 'web' },
    ],
    isPassive: false,
    category: 'ultimate',
  },
];
